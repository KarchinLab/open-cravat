<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>open-cravat submit</title>
    <script src="/submit/jquery-3.3.1.min.js"></script>
    <script src="/result/js/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
    <link rel='stylesheet' href='/result/js/jquery-ui-1.12.1.custom/jquery-ui.css' />
    <link rel="shortcut icon" href='#'>
    <link rel="icon" href="/submit/logo_transparent.png" />
    <link rel="stylesheet" href="/submit/nocache/websubmit.css">
    <link rel="stylesheet" href="/store/nocache/webstore.css">
    <script type='text/javascript' src='/submit/pqselect.dev.customforsubmit.js'></script>
    <link rel='stylesheet' href='/result/css/pqselect.min.css' />
    <script src='/submit/Chart.bundle.min.js'></script>
    <script src='/store/js/showdown-1.9.1.min.js'></script>
    <script src='/submit/nocache/main.js' type='module' />
    <!-- Google Analytics -->
    <script async src='/submit/googleAnalytics.js'></script>
</head>

<body>

<div id='main-logo' style='position: fixed; left: calc(50% - 65px); top: 2px; z-index: 201'>
    <img src='/submit/logo.png' alt='Open Cravat Logo' class='logo' />
</div>
<div class='headerdiv'>
    <div id='pageselect'>
        <div id='submitdiv_tabhead' class='tabhead' selval='t' value='submitdiv'>
            JOBS
        </div>
        <div id='storediv_tabhead' class='tabhead' value='storediv' disabled='t'>
            STORE
        </div>
        <!-- onclick for the link is filled in js as plain text to prevent popup warning -->
        <div id='singlevar_tabhead' class='tabhead' value='singlevardiv' disabled='t'>
            SINGLE VARIANT
        </div>
        <div id='admindiv_tabhead' class='tabhead' value='admindiv' disabled='t' style='display: none;'>
            ADMIN
        </div>
    </div>
    <div id='header-right'>
        <div id='top-menu'>
            <div class="menu-icon-container" title='Open CRAVAT Home Page'><a href='https://opencravat.org' target='_blank'><img src='/submit/house-solid.svg' class='menu-icon' /></a> </div>
            <div id='help-menu-button' class="menu-icon-container" ><img src='/result/images/question.png' class='menu-icon' title='Help and Contact' /></div>
            <div class='threedotsdiv menu-icon-container'>
                <img src='/submit/setting.png' class='threedots menu-icon' title='Settings' />
            </div>
            <div id='nointernetdiv' class='menu-icon-container'>
                <img src='/submit/nointernet.png' class='menu-icon' />
            </div>
        </div>

        <div id='version-announcements'>
            <div id='store-systemmoduleupdate-announce-div'>
        System update available
        <button id='store-systemmoduleupdate-button' class='butn'>Update</button>
    </div>

            <div id='verdiv' >
        Version: <span class="curverspan" style="font-family: monospace;"></span>
    </div>
    </div>
    </div>
</div>

<div id='submitdiv' class='appdiv'>
    <div id='submitcontentdiv'>
        <div id="submit-form">
            <div id='submit-variant-div' class='container'>
                <div class='divbanner'></div>
                <span class='divtitle'>Variants</span>
                <div class="flexcol">
                    <label for="assembly-select" class="input-label">Genome:</label>
                            <div id='assembly-select-div'>
                                <select id="assembly-select">
                                    <option value="hg38">hg38/GRCh38</option>
                                    <option value="hg19">hg19/GRCh37</option>
                                    <option value="hg18">hg18/GRCh36</option>
                                </select>
                            </div>
                        <span class='variant-input-border-bottom' title="Upload file(s). Select multiple files using ctrl and shift keys">
                            <div class="flexrow">
                                <input type="file" name="input-file" id="input-file" multiple/>
                                <label for="input-file">Add input files</label>
                                <button id='clear_inputfilelist_button' class='butn' style='display: none;'>Clear file(s)</button>
                            </div>
                            <div id="mult-inputs-message" style="display: none; margin-top: 4px;">
                                <div id="mult-inputs-list"></div>
                            </div>
                        </span>
                            <div class='or input-label'>OR</div>
                            <div>
                                <textarea rows="3" id="input-text" placeholder="Enter variants in a supported input format such as VCF or TSV, or type a list of the paths to input files in the server."></textarea>
                            </div>
                            <select id='submit-input-format-select' disabled style='display: none;'>
                                <option value=''>Detect</option>
                            </select>
                            <div class="flexrow">
                                <span class="input-label">Example:</span>
                            </div>
                            <div class="flexrow">
                                <button value="vcf" class='butn input-example-button'>VCF</button>
                                <button value="cravat" class='butn input-example-button'>TSV</button>
                                <button value="hgvs" class='butn input-example-button'>HGVS</button>
                            </div>
                            <div class="flexcol">
                                <span class="input-label">Note: </span>
                                <textarea id='jobnoteinput' rows='1' placeholder='Enter a note for the analysis (optional)'></textarea>
                            </div>
                </div>
                <div class='chevrondiv flexrow'>&nbsp;<div class='chevron chevron1to2'></div></div>
            </div>
  
            <div id='modchoose' class='container'>
                <div id="modchoose-header">
                    <div id='show-annotator' class='divtitle'>Annotations</div>
                    <div id='show-package' class='divtitle' style="display:none;">Packages</div>
                </div>
                <div id="annotdivspinnerdiv" class="spinnerdiv"><img src="/submit/nocache/broken_wheel.gif"></img></div>
                <div id="annotchoosediv">
                    <div id="annotator-group-select-div"></div>
                    <div id="annotator-select-div"></div>
                </div>
                <div id='packagechoosediv' style="display:none;">
                    <div id="package-select-div"></div>
                </div> 
                <div class='divbanner' style="display:flex;">
                    <div id="divbanner-annot" class="divbanner-split" style="display:none;"></div>
                    <div id="divbanner-pkg" class="divbanner-split" style="background-color:#3175b0"></div>
                </div>
            </div>
            <div id='addtl-analysis-div' class='container' style='display:none'>
                <span class='divtitle'>Additional Analysis</span>
                <div id='addtl-analysis-content'></div>
                <div class='divbanner'></div>
                <div class='chevrondiv'><div class='chevron chevron2to3'></div></div>
            </div>
            <button id="submit-job-button" class='butn submit-annotate-button'>ANNOTATE</button>
        </div>
    </div>

    <div id="jobdiv">
        <div id="jobdivspinnerdiv" class="spinnerdiv"><img src="/submit/nocache/broken_wheel.gif"></img></div>
        <table id="jobs-table">
            <thead>
            <tr>
                <th class='tableheadercell'>Job ID</th>
                <th class='tableheadercell'>Input File</th>
                <th class='tableheadercell' style='width: 100px; cursor: default;' title='Number of unique variants'>Variants</th>
                <th class='tableheadercell' style='width: 100px;'>Annotators</th>
                <th class='tableheadercell'>Genome</th>
                <th class='tableheadercell'>Note</th>
                <th class='tableheadercell'>Status</th>
                <th class='tableheadercell'>Download</th>
                <th class='tableheadercell'>Delete</th>
            </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
        <div id="jobs-table-footer">
            <div id="jobs-table-refresh-div">
                <button id='refresh-jobs-table-btn' class='butn'>Refresh Table</button>
            </div>
            <div id="jobs-table-import-div">
                <button id='job-import' class='butn' onclick="document.getElementById('job-import-file').click()">
                    Import Job
                    <input type="file" id="job-import-file" style='display:none;'>
                </button>
            </div>
            <div id='jobs-table-pagination-div'>
                <button id='jobs-table-pagination-prev-button' class='butn' title="Previous page"><</button>
                <button id='jobs-table-pagination-next-button' class='butn' title="Next page">></button>
            </div>
        </div>
    </div>  

    <iframe id="download-area" style="display:none;"></iframe>

</div> <!-- submitdiv -->

<div id='storediv' class='appdiv' style='display: none;'>
    <div id='messagediv'></div>
    <div id='storebodydiv'>
        <div id='installationprogressmsgdiv'>
            <img id="progressdivcloseicon" src="/store/images/x-lg.svg"></img>
        </div>
        <div id='chaticondiv'>
            <img id="chaticon"></img>
        </div>
        <div id='storemenudiv'>
            <input type='text' id='store-namefilter' name='namefilter' placeholder='Search the Store'/>
            <hr />
            <label class='checkbox-store-container'>Discover
                <input type='checkbox' class='store-tag-checkbox' value='frontpage' id='store-tag-checkbox-home' />
                <span class='checkmark-store'>
            </label>
            <label class='checkbox-store-container'>View All
                <input type='checkbox' value='viewall' id='store-tag-checkbox-viewall' />
                <span class='checkmark-store'>
            </label>
            <label id='update-available-div' class='checkbox-store-container'>Update available
                <input type='checkbox' class='store-tag-checkbox' value='newavailable' id='store-tag-checkbox-newavailable' />
                <span class='checkmark-store'>
            </label>
            <hr />
            <label class='checkbox-store-container'>Packages
                <input type='checkbox' class='store-tag-checkbox' value='package' id='store-tag-checkbox-packages' />
                <span class='checkmark-store'>
            </label>            <hr />
            <div id='bycategory-div'>By Category</div>
            <div id='store-tag-custom-div'>
            </div>
            <hr />
            <div>
                <a href='https://github.com/KarchinLab/open-cravat/discussions/new?category=usability-feature-requests&title=Annotator%20Request' target='_blank' id='suggestion-link'>
                    <span><img id='suggestion-logo' src='/submit/pen-to-square-regular.svg' alt='Suggest an Annotator Icon'/></span>
                    <span id='suggestion-text'>Suggest an Annotator</span>
                </a>
            </div>
        </div>
        <div style = 'max-width: 100%; overflow-x: hidden'>
            <div id='store-home-div'>
                <div class='store-home-sectiondiv'>
                    <div class='store-home-sectiontitle'>Most Downloaded</div>
                    <div>The most downloaded modules to date!</div>
                    <img src='/store/images/left_arrow.png' class='store-carousel-arrow carousel-left' />
                    <div id='store-home-featureddiv' class='store-home-carouseldiv'></div>
                    <img src='/store/images/right_arrow.png' class='store-carousel-arrow carousel-right' />
                </div>
                <div class='store-home-sectiondiv'>
                    <div class='store-home-sectiontitle'>Newest</div>
                    <div>The newest and greatest!</div>
                    <img src='/store/images/left_arrow.png' class='store-carousel-arrow carousel-left' />
                    <div id='store-home-newestdiv' class='store-home-carouseldiv'></div>
                    <img src='/store/images/right_arrow.png' class='store-carousel-arrow carousel-right' />
                </div>
                <div class='store-home-sectiondiv'>
                    <div class='store-home-sectiontitle'>Cancer Resources</div>
                    <div>Cutting edge resources for cancer research!</div>
                    <img src='/store/images/left_arrow.png' class='store-carousel-arrow carousel-left' />
                    <div id='store-home-cancerdiv' class='store-home-carouseldiv'></div>
                    <img src='/store/images/right_arrow.png' class='store-carousel-arrow carousel-right' />
                </div>
                <div class='store-home-sectiondiv'>
                    <div class='store-home-sectiontitle'>Clinical Relevance</div>
                    <div>Our curation of clinically-relevant resources!</div>
                    <img src='/store/images/left_arrow.png' class='store-carousel-arrow carousel-left' />
                    <div id='store-home-clinicaldiv' class='store-home-carouseldiv'></div>
                    <img src='/store/images/right_arrow.png' class='store-carousel-arrow carousel-right' />
                </div>
            </div>
            <div id='store-allmodule-div'>
                <div id='store-sort-div'>
                    <span id='store-sort-label'>Sort by</span>
                    <select id='store-sort-select'>
                        <option value='name'>Name</option>
                        <option value='date'>Date</option>
                        <option value='size'>Size</option>
                    </select>
                </div>
                <div id='store-update-all-div' >
                    <button id='store-update-all-button' class='butn' style='font-size: 12px;'>Update All</button>
                </div>
                <div id='remotemodulepanels' ></div>
            </div>
            <div id='store-modulegroup-div'>
                <div>
                    <img src='/result/images/back_arrow.png' id='module-group-back-arrow' class='back-arrow'>
                    <span id='store-modulegroup-title-span'></span>
                </div>
                <div id='store-modulegroup-content-div'></div>
            </div>
        </div>
    </div>
</div> <!-- storediv -->

<div id='admindiv' class='appdiv' style='display: none;'>
</div> <!-- admindiv -->

<div id='store-systemmodule-div'>
    <div id='store-systemmodule-systemnotready-div' style='display: none;'>
        <span id='store-systemmodule-systemnotready-span'></span>
        <br />
        <br />
        <span id='store-systemmodule-systemnotready-span2'></span>
    </div>
    <div id='store-systemmodule-missing-div' style='display: none;'>
        There are missing system modules which Open-CRAVAT needs.
        <br />
        Click this button to install them:
        <button id='store-systemmodule-install-button' class="butn" style='position: relative; top: -2px;'>Install system modules</button>
        <br />
    </div>
    <div id='store-systemmodule-update-div' style='display: none;'>
        System updates in progress...
    </div>
    <div id='store-systemmodule-msg-div'>
    </div>
</div> <!-- systemmodule-div -->

<div id='settingsdiv' class='menu-dropdown'>
    <span class="settingsdiv-elem">System configuration file:</span>
    <br />
    <input id='sysconfpathspan' class="settingsdiv-elem" type='text' size='60' disabled />
    <br />
    <span class="settingsdiv-elem">Jobs dir: </span><input id='settings_jobs_dir_input' class="settingsdiv-elem" type='text' size='30' autocomplete="on" /><span id='server_user_span'></span>
    <br />
    <span class="settingsdiv-elem">Modules dir: </span><input id='settings_modules_dir_input' class="settingsdiv-elem" autocomplete="on" type='text' size='60' />
    <br />
    <span class="settingsdiv-elem">Limit the sum of input file sizes to: </span><input id='settings_gui_input_size_limit' class="settingsdiv-elem" type='text' size='5' /><span>MB</span>
    <br />
    <span class="settingsdiv-elem">Maximum number of concurrent jobs: </span><input id='settings_max_num_concurrent_jobs' class="settingsdiv-elem" type='text' size='10' />
    <br />
    <span class="settingsdiv-elem">Maximum number of concurrent annotators per job: </span><input id='settings_max_num_concurrent_annotators_per_job' class="settingsdiv-elem" type='text' size='10' />
    <br />
    <span class="settingsdiv-elem">Allow collection of CRAVAT metrics: </span><input type="checkbox" id="settings_save_metrics" onclick='event.stopPropagation();'>
    <br />
    <button id="store-update-remote-button" class="settingdsiv-elem butn">Refresh store</button>
    <br />
    <br />
    <button id="system-conf-save-button" class="settingsdiv-elem butn">Save</button>
    <button id="system-conf-reset-button" class="settingsdiv-elem butn">Reset</button>
</div> <!-- settingsdiv -->

<div id='helpdiv' class='menu-dropdown'>
    <a href='https://github.com/KarchinLab/open-cravat/discussions' target='_blank' title='Discussions' class='help-link'>
        <div class='help-menu-icon'><img src='/store/images/comments-regular.svg' class='menu-icon-large'/></div>
        <div class='help-right'>
            <div class='help-menu-title'>Discussions</div>
            <div class='help-menu-description'>Ask questions and provide feedback on our discussion board.</div>
        </div>
    </a>
    <a href='https://open-cravat.readthedocs.io/en/latest/Home.html' target='_blank' title='Documentation' class='help-link'>
        <div class='help-menu-icon'><img src='/store/images/book-solid.svg' class='menu-icon-large'/></div>
        <div class='help-right'>
            <div class='help-menu-title'>Documentation</div>
            <div class='help-menu-description'>Learn basic and advanced usage of OpenCRAVAT through our documenatation.</div>
        </div>
    </a>
    <a href='https://github.com/KarchinLab/open-cravat/issues' target='_blank' title='Report an Issue' class='help-link'>
        <div class='help-menu-icon'><img src='/store/images/triangle-exclamation-solid.svg' class='menu-icon-large'/></div>
        <div class='help-right'>
            <div class='help-menu-title'>Report an Issue</div>
            <div class='help-menu-description'>Technical and scientific problems can be reported to our GitHub repository.</div>
        </div>
    </a>
    <a href='mailto:support@opencravat.org?Subject=open-cravat%20feedback' target='_blank' title='Contact Us' class='help-link'>
        <div class='help-menu-icon'><img src='/result/images/mail.png' class='menu-icon'/></div>
        <div class='help-right'>
            <div class='help-menu-title'>Contact Us</div>
            <div class='help-menu-description'>Send an email to the OpenCRAVAT team.</div>
        </div>
    </a>
</div> <!-- helpdiv -->

<div id='store-noconnect-div'>
    <div id='store-noconnect-msg-div'>
        Lost connection to the server.
        <br />
        <br />
        Please launch OpenCRAVAT again.
    </div>
</div>

<div id='spinner-div'>
    <div id='spinner-div-progress-title'>Uploading input file(s)...</div>
    <div id='spinner-div-progress-div'>
        <div id='spinner-div-progress-bar'></div>
    </div>
    <div id='spinner-div-progress-num'></div>
</div>

<div id='update-remote-spinner-div'>
    <div id='update-remote-spinner-div-text'>Updating store information...</div>
</div>

<div id='report_generation_div'>
    Choose a report type:
    <select id='report_generation_div_select'></select>
    <br />
    <br />
    <button id='report_generation_generate_button'>Generate</button><button id='report_generation_close_button'>Cancel</button>
</div>

<div id='user-email-request-div' class='modal-container'>
    <div id='user-email-request-modal' class='modal'>
        <div id='user-email-request-modal-title' class='divtitle modal-title'>
            User Email
            <span id='user-email-request-modal-close' class='checkbox-group-none-button' title='Close'></span>
        </div>
        <div id='user-email-request-modal-body' class='modal-body'>
            <div class='modal-text'>
                Please provide your email to support our funding.
                <ul>
                    <li>Used only for usage metrics.</li>
                    <li>No third-party sharing.</li>
                    <li>No mailing lists without consent.</li>
                </ul>
            </div>
            <label for='user-email-opt-out' class='checkbox-container modal-checkbox-label'>
                <input id='user-email-opt-out' type='checkbox' />
                <span class='modal-checkbox-text'>Opt-Out</span>
                <span class='checkmark modal-checkmark'></span>
            </label>
            <input id='user-email' class='modal-input' type='email' placeholder="Email" />
            <div id='user-email-error' class='modal-text modal-error'>
                Please enter a valid email address.
            </div>
            <button class='butn modal-butn' id='submit-user-email-request'>Confirm</button>
        </div>
    </div>
</div>

</body>
</html>
